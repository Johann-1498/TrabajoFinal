<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/miPerfil.css">
    <title>Document</title>
</head>

<body>
    <header>
        <img src="img/celtic_6043595.png" alt height="70px">
        <h1>Supermercado XYZ</h1>
    </header>
    <nav>
        <a href="index.html">Inicio</a>
        <a href="clientes.html">clientes</a>
        <a href="movimientos.html">movimientos</a>
        <span id="iniciarSesion"></span>
        <span id="miPerfil"></span>
    </nav>
    <main>
        <div class="control">
            <span style="display: inline-block; margin: 20px;" id="changeSettingAccount" class="selected">Account
                Settings</span>
            <span style="display: inline-block; margin: 20px;" id="changeSettingBilling">Billing Settings</span>
        </div>

        <section id="accountSettings" class="container fade-in-out">
            <div class="informationContainer">
                <h4>Email Adress:</h4>
                <p id="userEmail">xd@gmail.com</p>
                <button class="editInformation" id="editEmail">Editar</button>
            </div>
            <hr>
            <div class="informationContainer">
                <h4>Name:</h4>
                <p id="userName">Juan</p>
                <button class="editInformation" id="editName">Editar</button>
            </div>
            <hr>

            <div class="informationContainer">
                <h4>Phone Number:</h4>
                <p id="userPhone">123456789</p>
                <button class="editInformation" id="editPhone">Editar</button>
            </div>
            <hr>

            <div class="informationContainer">
                <h4>Cui:</h4>
                <p id="userCui">123456789</p>
                <button class="editInformation" id="editCui">Editar</button>
            </div>
        </section>
        <section id="billingSettings" class="container fade-in-out hidden">
            <div class="informationContainer">
                <h4>Billing Card:</h4>
                <p id="userCard">xd@gmail.com</p>
            </div>
            <hr>
            <div class="informationContainer">
                <h4>Titular:</h4>
                <p id="userName">Juan</p>
            </div>
            <hr>

            <div class="informationContainer">
                <h4>Phone Number:</h4>
                <p id="userPhone">123456789</p>
            </div>
            <hr>

            <div class="informationContainer">
                <h4>Cui:</h4>
                <p id="userCui">123456789</p>
            </div>
        </section>
    </main>

    <button id="closeSession"></button>

    <footer>
        <p>&copy; 2024 Supermercado XYZ</p>
    </footer>
    <script src="js/validateSession.js"></script>
    <script>
        ifPageIsNecesaryValidate();
        var userEmail = document.getElementById("userEmail");
        var userName = document.getElementById("userName");
        var userPhone = document.getElementById("userPhone");
        var userCui = document.getElementById("userCui");
        let datos;
        validarSesion().then(response => {
            datos = response;
            userEmail.innerHTML = datos.email;
            userName.innerHTML = datos.name;
            userPhone.innerHTML = datos.telefono;
            userCui.innerHTML = datos.cui;
        });
        let accountSettings = document.querySelector("#accountSettings");
        accountSettings.style.zIndex = "1";
        let billingSettings = document.querySelector("#billingSettings");
        let changeSettingAccount = document.querySelector("#changeSettingAccount");
        let changeSettingBilling = document.querySelector("#changeSettingBilling");
        changeSettingAccount.addEventListener("click", () => {
            accountSettings.style.zIndex = "1";
            billingSettings.style.zIndex = "0";

            changeSettingAccount.classList.add("selected");
            changeSettingBilling.classList.remove("selected");
            billingSettings.classList.add("hidden");
            billingSettings.style.transform = "translateX(50px)";
            setTimeout(function () {
                accountSettings.classList.remove("hidden");
                console.log(accountSettings.style.transform);
                if (accountSettings.style.transform) {
                    accountSettings.style.transform = "translateX(50px)";
                }


            }, 500);
        })
        changeSettingBilling.addEventListener("click", () => {
            billingSettings.style.zIndex = "1";
            accountSettings.style.zIndex = "0";
            changeSettingBilling.classList.add("selected");
            changeSettingAccount.classList.remove("selected");
            accountSettings.classList.add("hidden");
            accountSettings.style.transform = "translateX(-50px)";
            setTimeout(function () {
                billingSettings.classList.remove("hidden");
                if (billingSettings.style.transform) {
                    billingSettings.style.transform = "translateX(-50px)";
                }
            }, 500);
        })
    </script>
</body>

</html>